<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dist√¢ncia de Dice Interativa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3833118765411251"
     crossorigin="anonymous"></script>
    <!-- Visualization & Content Choices: 
        - Defini√ß√£o, F√≥rmula, Propriedades, Aplica√ß√µes: Text blocks, lists (HTML/Tailwind) to inform. 
        - Visualizador: HTML text inputs for sets, JS for input parsing, set operations (intersection, cardinality), Dice Coefficient & Distance calculation, and dynamic HTML updates to display results and intermediate sets.
    -->
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      .tab-button {
        transition: all 0.3s ease;
      }
      .tab-button.active {
        border-color: #2563eb; /* blue-600 */
        color: #2563eb;
        font-weight: 600;
      }
      .content-section {
        display: none;
      }
      .content-section.active {
        display: block;
      }
      .formula {
        font-family: "Courier New", Courier, monospace;
        background-color: #f1f5f9; /* slate-100 */
        padding: 0.75rem; /* p-3 */
        border-radius: 0.25rem; /* rounded */
        font-size: 0.875rem; /* text-sm */
        color: #1e293b; /* slate-800 */
        overflow-x: auto; /* Allow horizontal scroll for long formulas */
        white-space: pre; /* Preserve whitespace and prevent wrapping */
      }
      .set-display {
        background-color: #f8fafc; /* slate-50 */
        border: 1px solid #e2e8f0; /* slate-200 */
        padding: 0.5rem 0.75rem;
        border-radius: 0.25rem;
        font-size: 0.875rem;
        min-height: 30px;
        word-break: break-all;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 0.5rem 1rem;
        align-items: center;
      }
    </style>
  </head>
  <body class="bg-slate-100 text-slate-700 antialiased">
    <div class="bg-teal-600 text-white shadow-md">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center">
            <a
              href="index.html"
              class="text-xl font-bold hover:text-teal-200 transition-colors"
              >P√°gina Inicial</a
            >
          </div>
          <div class="relative">
            <button
              id="metrics-menu-button"
              class="px-3 py-2 rounded-md text-sm font-medium hover:bg-teal-700 focus:outline-none focus:bg-teal-700 transition-colors"
            >
              M√©tricas de Dist√¢ncia <span class="ml-1">&#9662;</span>
            </button>
            <div
              id="metrics-dropdown"
              class="hidden origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none py-1 z-50"
            >
              <a
                href="chebyshevDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Chebyshev</a
              >
              <a
                href="correlationDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Correla√ß√£o</a
              >
              <a
                href="cosineDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. Cosseno</a
              >
              <a
                href="diceDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. Dice</a
              >
              <a
                href="euclidianDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. Euclidiana</a
              >
              <a
                href="hammingDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Hamming</a
              >
              <a
                href="hellingerDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Hellinger</a
              >
              <a
                href="jaccardDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Jaccard</a
              >
              <a
                href="mahalanobisDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Mahalanobis</a
              >
              <a
                href="manhattanDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Manhattan</a
              >
              <a
                href="minkowskiDistance.html"
                class="block px-4 py-2 text-sm text-slate-700 hover:bg-teal-50 hover:text-teal-600 transition-colors"
                >Dist. de Minkowski</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-5xl">
      <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-blue-600">
          üé≤ Dist√¢ncia de Dice Interativa (Dice Loss) üé≤
        </h1>
      </header>

      <nav class="mb-8 flex flex-wrap justify-center gap-2 sm:gap-4">
        <button
          class="tab-button active py-2 px-4 border-b-2 border-transparent hover:border-blue-500 hover:text-blue-600 rounded-t-md"
          data-tab="definicao"
        >
          Defini√ß√£o
        </button>
        <button
          class="tab-button py-2 px-4 border-b-2 border-transparent hover:border-blue-500 hover:text-blue-600 rounded-t-md"
          data-tab="formula"
        >
          F√≥rmula e Termos
        </button>
        <button
          class="tab-button py-2 px-4 border-b-2 border-transparent hover:border-blue-500 hover:text-blue-600 rounded-t-md"
          data-tab="propriedades"
        >
          Propriedades
        </button>
        <button
          class="tab-button py-2 px-4 border-b-2 border-transparent hover:border-blue-500 hover:text-blue-600 rounded-t-md"
          data-tab="aplicacoes"
        >
          Aplica√ß√µes Pr√°ticas
        </button>
        <button
          class="tab-button py-2 px-4 border-b-2 border-transparent hover:border-blue-500 hover:text-blue-600 rounded-t-md"
          data-tab="visualizador"
        >
          Visualizador Interativo
        </button>
      </nav>

      <main>
        <section
          id="definicao"
          class="content-section active bg-white p-6 rounded-lg shadow-md"
        >
          <h2 class="text-2xl font-semibold text-blue-600 mb-4">
            O que √© a Dist√¢ncia de Dice / Perda de Dice?
          </h2>
          <p class="mb-3 leading-relaxed">
            Esta se√ß√£o introduz o Coeficiente de Dice e a Dist√¢ncia de Dice.
            Voc√™ aprender√° que o Coeficiente de Dice √© uma estat√≠stica usada
            para medir a similaridade entre dois conjuntos, enquanto a Dist√¢ncia
            de Dice (ou Perda de Dice) mede a dissimilaridade e √© frequentemente
            usada como uma fun√ß√£o de perda em aprendizado de m√°quina,
            especialmente para tarefas de segmenta√ß√£o de imagens.
          </p>
          <p class="mb-3 leading-relaxed">
            O <strong>Coeficiente de Dice</strong> (tamb√©m conhecido como √≠ndice
            de S√∏rensen-Dice ou DSC) √© uma medida de similaridade entre dois
            conjuntos de amostras. Ele varia de 0 (nenhuma sobreposi√ß√£o) a 1
            (conjuntos id√™nticos).
          </p>
          <p class="mb-3 leading-relaxed">
            A <strong>Dist√¢ncia de Dice</strong> √© simplesmente
            <code class="text-xs bg-slate-200 p-1 rounded"
              >1 - Coeficiente de Dice</code
            >. Ela varia de 0 (conjuntos id√™nticos) a 1 (nenhuma sobreposi√ß√£o).
            Quando usada como uma fun√ß√£o de perda em aprendizado de m√°quina
            (conhecida como <strong>Perda de Dice</strong> ou Dice Loss), o
            objetivo √© minimizar essa dist√¢ncia, ou seja, maximizar a
            sobreposi√ß√£o entre a predi√ß√£o e o valor real (ground truth).
          </p>
          <p class="leading-relaxed">
            √â particularmente popular em segmenta√ß√£o de imagens m√©dicas, onde
            pode lidar bem com o desequil√≠brio de classes (por exemplo, quando a
            regi√£o de interesse √© muito menor que o fundo).
          </p>
        </section>

        <section
          id="formula"
          class="content-section bg-white p-6 rounded-lg shadow-md"
        >
          <h2 class="text-2xl font-semibold text-blue-600 mb-4">
            üí° F√≥rmula da Dist√¢ncia de Dice e Seus Termos
          </h2>
          <p class="mb-4 leading-relaxed">
            As f√≥rmulas s√£o baseadas na compara√ß√£o de dois conjuntos, A e B.
          </p>

          <div class="mb-6">
            <h3 class="text-xl font-medium text-slate-700 mb-2">
              Coeficiente de Dice (DSC)
            </h3>
            <p class="mb-2">Para dois conjuntos A e B:</p>
            <div class="formula">DSC(A,B) = (2 * |A ‚à© B|) / (|A| + |B|)</div>
            <p class="mt-2 text-sm text-slate-500">
              Se A e B s√£o ambos vazios, DSC(A,B) √© frequentemente definido como
              1. Se apenas um deles √© vazio (e o outro n√£o), DSC √© 0.
            </p>
          </div>

          <div class="mb-6">
            <h3 class="text-xl font-medium text-slate-700 mb-2">
              Dist√¢ncia de Dice / Perda de Dice (L<sub>Dice</sub>)
            </h3>
            <p class="mb-2">A Dist√¢ncia de Dice √© calculada como:</p>
            <div class="formula">L<sub>Dice</sub>(A,B) = 1 - DSC(A,B)</div>
            <p class="mt-1 mb-2">Substituindo a f√≥rmula do DSC:</p>
            <div class="formula">
              L<sub>Dice</sub>(A,B) = 1 - [ (2 * |A ‚à© B|) / (|A| + |B|) ]
            </div>
            <p class="mt-2 text-sm text-slate-500">
              Esta perda varia de 0 (sobreposi√ß√£o perfeita) a 1 (nenhuma
              sobreposi√ß√£o).
            </p>
          </div>

          <div>
            <h3 class="text-xl font-medium text-slate-700 mb-3">
              üìù Desvendando os Termos
            </h3>
            <ul class="list-disc list-inside space-y-2 pl-2 leading-relaxed">
              <li>
                <strong>A, B:</strong> S√£o os dois conjuntos finitos que est√£o
                sendo comparados. Em segmenta√ß√£o de imagens, A pode ser o
                conjunto de pixels da m√°scara predita e B o conjunto de pixels
                da m√°scara real (ground truth).
              </li>
              <li>
                <strong>|S|:</strong> Representa a cardinalidade (ou tamanho) do
                conjunto S, ou seja, o n√∫mero de elementos distintos em S.
              </li>
              <li>
                <strong>A ‚à© B:</strong> A interse√ß√£o dos conjuntos A e B. √â o
                conjunto de elementos que s√£o comuns a A e B. Em segmenta√ß√£o,
                representa os pixels corretamente classificados como
                pertencentes √† regi√£o de interesse (verdadeiros positivos).
              </li>
              <li>
                <strong>|A| + |B|:</strong> A soma do n√∫mero de elementos em A e
                o n√∫mero de elementos em B.
              </li>
              <li>
                <strong>DSC(A,B):</strong> O Coeficiente de Dice, uma medida de
                similaridade entre 0 e 1.
              </li>
              <li>
                <strong>L<sub>Dice</sub>(A,B):</strong> A Dist√¢ncia de Dice ou
                Perda de Dice, uma medida de dissimilaridade entre 0 e 1.
              </li>
            </ul>
          </div>
        </section>

        <section
          id="propriedades"
          class="content-section bg-white p-6 rounded-lg shadow-md"
        >
          <h2 class="text-2xl font-semibold text-blue-600 mb-4">
            üîë Propriedades Fundamentais
          </h2>
          <p class="mb-6 leading-relaxed">
            O Coeficiente de Dice e a Dist√¢ncia de Dice t√™m as seguintes
            propriedades:
          </p>
          <ul class="space-y-4">
            <li class="p-4 bg-slate-50 rounded-md shadow-sm">
              <h3 class="font-semibold text-slate-700">1. Intervalo (Range)</h3>
              <p class="text-sm">
                O Coeficiente de Dice (DSC) varia de 0 a 1:
                <code class="text-xs bg-slate-200 p-1 rounded"
                  >0 ‚â§ DSC(A, B) ‚â§ 1</code
                >. Consequentemente, a Dist√¢ncia de Dice tamb√©m varia de 0 a 1:
                <code class="text-xs bg-slate-200 p-1 rounded"
                  >0 ‚â§ L<sub>Dice</sub>(A, B) ‚â§ 1</code
                >.
              </p>
            </li>
            <li class="p-4 bg-slate-50 rounded-md shadow-sm">
              <h3 class="font-semibold text-slate-700">
                2. Similaridade vs. Dissimilaridade
              </h3>
              <p class="text-sm">
                DSC = 1 (L<sub>Dice</sub> = 0) indica que os conjuntos s√£o
                id√™nticos. DSC = 0 (L<sub>Dice</sub> = 1) indica que os
                conjuntos s√£o disjuntos (n√£o t√™m elementos em comum).
              </p>
            </li>
            <li class="p-4 bg-slate-50 rounded-md shadow-sm">
              <h3 class="font-semibold text-slate-700">3. Simetria</h3>
              <p class="text-sm">
                Ambas as medidas s√£o sim√©tricas:
                <code class="text-xs bg-slate-200 p-1 rounded"
                  >DSC(A, B) = DSC(B, A)</code
                >
                e
                <code class="text-xs bg-slate-200 p-1 rounded"
                  >L<sub>Dice</sub>(A, B) = L<sub>Dice</sub>(B, A)</code
                >.
              </p>
            </li>
            <li class="p-4 bg-slate-50 rounded-md shadow-sm">
              <h3 class="font-semibold text-slate-700">
                4. Rela√ß√£o com o √çndice de Jaccard
              </h3>
              <p class="text-sm">
                O Coeficiente de Dice (DSC) est√° relacionado ao √çndice de
                Jaccard (J) pela f√≥rmula:
                <code class="text-xs bg-slate-200 p-1 rounded"
                  >DSC = 2J / (J + 1)</code
                >
                e
                <code class="text-xs bg-slate-200 p-1 rounded"
                  >J = DSC / (2 - DSC)</code
                >. Ambos s√£o monotonicamente relacionados.
              </p>
            </li>
            <li class="p-4 bg-slate-50 rounded-md shadow-sm">
              <h3 class="font-semibold text-slate-700">
                5. N√£o √© uma M√©trica Estrita (Dist√¢ncia de Dice)
              </h3>
              <p class="text-sm">
                A Dist√¢ncia de Dice (<code
                  class="text-xs bg-slate-200 p-1 rounded"
                  >1 - DSC</code
                >) n√£o satisfaz necessariamente a desigualdade triangular em
                todos os casos e, portanto, n√£o √© uma m√©trica de dist√¢ncia no
                sentido matem√°tico estrito. No entanto, √© amplamente utilizada
                como uma medida de dissimilaridade eficaz, especialmente como
                fun√ß√£o de perda.
              </p>
            </li>
          </ul>
        </section>

        <section
          id="aplicacoes"
          class="content-section bg-white p-6 rounded-lg shadow-md"
        >
          <h2 class="text-2xl font-semibold text-blue-600 mb-4">
            üéØ Principais Aplica√ß√µes Pr√°ticas
          </h2>
          <p class="mb-6 leading-relaxed">
            O Coeficiente de Dice e a Perda de Dice s√£o particularmente √∫teis em
            cen√°rios de compara√ß√£o de conjuntos e avalia√ß√£o de segmenta√ß√£o.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-slate-50 p-4 rounded-lg shadow">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                üñºÔ∏è Segmenta√ß√£o de Imagens (Principal Aplica√ß√£o da Perda de Dice)
              </h3>
              <p class="text-sm leading-relaxed">
                Usada como m√©trica de avalia√ß√£o e fun√ß√£o de perda para treinar
                modelos de aprendizado profundo (redes neurais) para segmentar
                objetos em imagens, especialmente em imagens m√©dicas (ex:
                tumores, √≥rg√£os). √â robusta a desequil√≠brios de classe.
              </p>
            </div>
            <div class="bg-slate-50 p-4 rounded-lg shadow">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                üëÅÔ∏è Vis√£o Computacional
              </h3>
              <p class="text-sm leading-relaxed">
                Al√©m da segmenta√ß√£o, pode ser usada para avaliar a sobreposi√ß√£o
                de caixas delimitadoras (bounding boxes) em detec√ß√£o de objetos.
              </p>
            </div>
            <div class="bg-slate-50 p-4 rounded-lg shadow">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                üìÑ Recupera√ß√£o de Informa√ß√£o
              </h3>
              <p class="text-sm leading-relaxed">
                Para medir a similaridade entre conjuntos de palavras-chave ou
                documentos.
              </p>
            </div>
            <div class="bg-slate-50 p-4 rounded-lg shadow">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                üåø Ecologia (√çndice de S√∏rensen)
              </h3>
              <p class="text-sm leading-relaxed">
                Usado para quantificar a similaridade de esp√©cies entre duas
                comunidades ou amostras.
              </p>
            </div>
            <div class="bg-slate-50 p-4 rounded-lg shadow">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                üß¨ Bioinform√°tica
              </h3>
              <p class="text-sm leading-relaxed">
                Para comparar conjuntos de genes, prote√≠nas ou outras
                caracter√≠sticas biol√≥gicas.
              </p>
            </div>
            <div class="bg-slate-50 p-4 rounded-lg shadow">
              <h3 class="text-lg font-semibold text-slate-700 mb-2">
                üëç Sistemas de Recomenda√ß√£o
              </h3>
              <p class="text-sm leading-relaxed">
                Para medir a similaridade entre conjuntos de itens preferidos
                por diferentes usu√°rios.
              </p>
            </div>
          </div>
        </section>

        <section
          id="visualizador"
          class="content-section bg-white p-6 rounded-lg shadow-md"
        >
          <h2 class="text-2xl font-semibold text-blue-600 mb-4">
            üî¨ Visualizador Interativo da Dist√¢ncia de Dice
          </h2>
          <p class="mb-6 leading-relaxed">
            Experimente a Dist√¢ncia de Dice! Insira os elementos para dois
            conjuntos (Conjunto A e Conjunto B) nos campos abaixo, separados por
            v√≠rgula. Os conjuntos, sua interse√ß√£o, e os c√°lculos do Coeficiente
            e da Dist√¢ncia de Dice ser√£o exibidos dinamicamente.
          </p>

          <div
            class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 items-start"
          >
            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-medium text-slate-700 mb-1">
                  Conjunto A
                </h3>
                <p class="text-xs text-slate-500 mb-2">
                  Elementos separados por v√≠rgula (ex:
                  <code>ma√ß√£, banana, laranja</code>)
                </p>
                <input
                  type="text"
                  id="setAInputDice"
                  value="ma√ß√£, banana, laranja, uva"
                  class="w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  placeholder="ex: a, b, c, d"
                />
              </div>
              <div>
                <h3 class="text-lg font-medium text-slate-700 mb-1">
                  Conjunto B
                </h3>
                <p class="text-xs text-slate-500 mb-2">
                  Elementos separados por v√≠rgula (ex:
                  <code>banana, laranja, pera, kiwi</code>)
                </p>
                <input
                  type="text"
                  id="setBInputDice"
                  value="banana, laranja, pera, kiwi"
                  class="w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  placeholder="ex: c, d, e, f"
                />
              </div>
            </div>

            <div class="space-y-4">
              <div>
                <h3 class="text-lg font-medium text-slate-700 mb-2">
                  Resultados do C√°lculo:
                </h3>
              </div>
              <div class="stats-grid text-sm">
                <p class="font-medium">Conjunto A:</p>
                <div id="setADisplayDice" class="set-display">N/A</div>

                <p class="font-medium">Conjunto B:</p>
                <div id="setBDisplayDice" class="set-display">N/A</div>

                <p class="font-medium">A ‚à© B (Interse√ß√£o):</p>
                <div id="intersectionDisplayDice" class="set-display">N/A</div>
              </div>
              <div
                class="stats-grid text-sm mt-4 pt-4 border-t border-slate-200"
              >
                <p class="font-medium">|A| (Tamanho de A):</p>
                <p id="sizeADice" class="font-semibold text-slate-600">N/A</p>

                <p class="font-medium">|B| (Tamanho de B):</p>
                <p id="sizeBDice" class="font-semibold text-slate-600">N/A</p>

                <p class="font-medium">|A ‚à© B| (Tam. Interse√ß√£o):</p>
                <p
                  id="intersectionSizeDice"
                  class="font-semibold text-slate-600"
                >
                  N/A
                </p>

                <p class="font-medium mt-1">Coeficiente de Dice (DSC):</p>
                <p
                  id="diceCoefficientResult"
                  class="font-semibold text-green-600 mt-1"
                >
                  N/A
                </p>

                <p class="text-lg font-medium mt-2">
                  Dist√¢ncia de Dice (Perda):
                </p>
                <p
                  id="diceDistanceResult"
                  class="font-bold text-blue-600 text-2xl mt-2"
                >
                  N/A
                </p>
              </div>
              <p id="diceErrorMessage" class="text-red-500 text-sm mt-2"></p>
            </div>
          </div>
        </section>
      </main>

      <footer class="text-center mt-12 py-6 border-t border-slate-300">
        <p class="text-sm text-slate-500">
          &copy; <span id="currentYearDice"></span> Aplica√ß√£o Interativa da
          Dist√¢ncia de Dice. Desenvolvido para fins educacionais.
        </p>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const tabs = document.querySelectorAll(".tab-button");
        const contentSections = document.querySelectorAll(".content-section");

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            tabs.forEach((t) => t.classList.remove("active"));
            tab.classList.add("active");

            const targetTab = tab.getAttribute("data-tab");
            contentSections.forEach((section) => {
              section.classList.remove("active");
              if (section.id === targetTab) {
                section.classList.add("active");
              }
            });
          });
        });

        document.getElementById("currentYearDice").textContent =
          new Date().getFullYear();

        const setAInputEl = document.getElementById("setAInputDice");
        const setBInputEl = document.getElementById("setBInputDice");

        const setADisplayEl = document.getElementById("setADisplayDice");
        const setBDisplayEl = document.getElementById("setBDisplayDice");
        const intersectionDisplayEl = document.getElementById(
          "intersectionDisplayDice"
        );

        const sizeAEl = document.getElementById("sizeADice");
        const sizeBEl = document.getElementById("sizeBDice");
        const intersectionSizeEl = document.getElementById(
          "intersectionSizeDice"
        );
        const diceCoefficientResultEl = document.getElementById(
          "diceCoefficientResult"
        );
        const diceDistanceResultEl =
          document.getElementById("diceDistanceResult");
        const errorMessageEl = document.getElementById("diceErrorMessage");

        function parseSetInput(inputValue) {
          if (!inputValue.trim()) return new Set();
          const items = inputValue
            .split(",")
            .map((item) => item.trim().toLowerCase())
            .filter((item) => item !== "");
          return new Set(items);
        }

        function setToString(setObj) {
          if (setObj.size === 0) return "{ }";
          return `{ ${Array.from(setObj).join(", ")} }`;
        }

        function calculateAndDisplayDice() {
          errorMessageEl.textContent = "";
          const setA = parseSetInput(setAInputEl.value);
          const setB = parseSetInput(setBInputEl.value);

          const intersection = new Set([...setA].filter((x) => setB.has(x)));

          const sizeA = setA.size;
          const sizeB = setB.size;
          const intersectionSize = intersection.size;

          let diceCoefficient = 0;
          const sumOfSizes = sizeA + sizeB;

          if (sumOfSizes === 0) {
            diceCoefficient = 1;
            errorMessageEl.textContent =
              "Ambos os conjuntos est√£o vazios. Coeficiente de Dice definido como 1.";
          } else {
            diceCoefficient = (2 * intersectionSize) / sumOfSizes;
          }

          const diceDistance = 1 - diceCoefficient;

          setADisplayEl.textContent = setToString(setA);
          setBDisplayEl.textContent = setToString(setB);
          intersectionDisplayEl.textContent = setToString(intersection);

          sizeAEl.textContent = sizeA;
          sizeBEl.textContent = sizeB;
          intersectionSizeEl.textContent = intersectionSize;

          diceCoefficientResultEl.textContent = diceCoefficient.toFixed(4);
          diceDistanceResultEl.textContent = diceDistance.toFixed(4);
        }

        [setAInputEl, setBInputEl].forEach((input) => {
          input.addEventListener("input", calculateAndDisplayDice);
        });

        calculateAndDisplayDice();
      });
    </script>
    <script>
      // Simple script for dropdown toggle
      const metricsMenuButton = document.getElementById("metrics-menu-button");
      const metricsDropdown = document.getElementById("metrics-dropdown");
      if (metricsMenuButton && metricsDropdown) {
        metricsMenuButton.addEventListener("click", () => {
          metricsDropdown.classList.toggle("hidden");
        });
        // Optional: Close dropdown if clicked outside
        document.addEventListener("click", (event) => {
          if (
            !metricsMenuButton.contains(event.target) &&
            !metricsDropdown.contains(event.target)
          ) {
            metricsDropdown.classList.add("hidden");
          }
        });
      }
    </script>
  </body>
</html>
